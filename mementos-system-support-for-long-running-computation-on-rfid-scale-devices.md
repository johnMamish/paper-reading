Having embedded systems that have very small (or no) batteries and havest their energy from the envrionment is enticing; the devices will be cheaper, smaller, longer-lasting, and more envrionmentally friendly. Unfortunately, this proposal also comes with the problem that the devices will often lose power and need to be rebooted, leading to loss of program state. Many systems that harvest energy simply rely on making sure that computation finishes in the shortest amount of time possible so that power will be lost, but more sophisticated systems checkpoint the system state, allowing the system to pick up from where it left off after a power-loss.

Mementos is a compiler pass and runtime library that automatically backs up volatile state in an MSP430 so that it can resume where it left off from when power is lost. A checkpointing action consists of writing all registers, stack space, and global variables to flash memory. Mementos automatically inserts checkpoints into various parts of the program, which check to see if the microcontroller is running out of energy. If the MCU has so little energy that it's at risk of not being able to make a backup, a backup is made. Checkpoint spots are chosen heuristically (section 3.1).